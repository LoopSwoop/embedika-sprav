<!DOCTYPE html>
<html lang="ru" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/api.css') }}">
    <title>Описание API</title>
  </head>
  <body>
    <section class="api">
      <h2>Описание API</h2>
      <article class="struc">
        <h3>Общая структура</h3>
        <p>Приложение можно условно разделить на две части: реализация API и реализация интерфейса.
        При этом API доступен по адресу: <i>название_сайта:5000/api/...</i>, а интерфейс
        представлен по адресу: <i>название_сайта:5001/cars/</i>. За каждую часть отвечает свой сервер.</p>
        <p>При использовании интерфейса запросы отправляются на адрес для API. Результаты выполнения
        запросов как успешные, так и нет приходят в виде JSON объекта, обрабатываются и выводятся на странице.
        Кроме того, для удобства пользователей выводятся всплывающие уведомления (успех или ошибка). К примеру,
        если пользователь пытается добавить существующую запись, ничего не происходит, и ему выводится
        уведомление, что запись уже существует. Все обращения к API записываются в лог файле.</p>
      </article>
      <article class="api">
        <h3>Возможности API</h3>
        <h4>Вывод всех авто из справочника</h4>
        <p>Для этого необходимо отправить GET запрос на адрес: <i>название_сайта/api/allcars/</i>.
        В результате придет ответ в виде JSON объекта со всеми найденными машинами.</p>
        <h4>Вывод всех авто с заданными параметрами</h4>
        <p>Для этого необходимо отправить GET запрос на адрес: <i>название_сайта/api/allcars/</i>
        добавив к нему параметры для URL. Параметры добавляются в саму ссылку, например
        ссылка может выглядеть следующим образом: <i>название_сайта/api/allcars/?id=4&color=red</i>.
        В том случае, если в ссылке будет указан несуществующий параметр в качестве результата
        будет возвращен JSON объект с ошибкой. При поиске пустые параметры будет отображаться в поле адреса,
        но к API будет отправляться очищенный запрос (не .../?id=&color=blue, а .../?color=blue).</p>
        <h4>Добавление нового авто</h4>
        <p>Для этого необходимо отправить POST запрос на адрес: <i>название_сайта/api/allcars/</i>.
        Вместе с запросом следует передать JSON объект со всеми параметрами машины, кроме id. здесь предполагается
        что этому полю в таблице номер выставляется автоматически. Пример JSON объекта:
        {"num": "А937АА66", "model": "Daewoo Arcadia", "color": "black", "year": 1998}.
        Если все необходимые параметры будут предоставлены и в базе не будет такой же машины, новый автомобиль
        добавляется в базу. В противном случае возвращается JSON объект с ошибкой.</p>
        <h4>Удаление авто</h4>
        <p>Для этого необходимо отправить DELETE запрос на адрес: <i>название_сайта/api/allcars/id_машины/</i>.
        Если такая машина будет найдена, она будет удалена. В противном случае возвращается JSON объект с ошибкой.</p>
        <h4>Вывод статистики</h4>
        <p>Для этого необходимо отправить GET запрос на адрес: <i>название_сайта/api/allcars/stats/</i>
        В результате запроса возвращается JSON объект со статистикой по базе (количество записей, доступные года
        выпуска, доступные цвета...).</p
        <p>Вернуться на <a href="/">главную страницу</a>.</p>
      </article>
    </section>
  </body>
</html>
